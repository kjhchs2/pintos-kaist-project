FAIL
Kernel panic in run: PANIC at ../../threads/thread.c:297 in thread_current(): assertion `is_thread(t)' failed.
Call stack: 0x8004216a01 0x8004207113 0x800420a7c1 0x8004219d06 0x8004219ed3 0x8004219eb7 0x8004214f00 0x8004214638 0x8004219d66 0x8004213f04 0x800421b757 0x800421b50a 0x8004208ff4 0x8004209412 0x800421d076 0x800421a855 0x800421a4f7 0x80042071d9 0x800421b77b 0x800421b50a 0x8004208ff4 0x8004209412 0x800421d076 0x800421a855 0x800421a4f7 0x80042071d9 0x800421b77b 0x800421b50a 0x8004208ff4 0x8004209412 0x800421d076 0x800421a855 0x800421a4f7 0x80042071d9 0x800421b77b 0x800421b50a 0x8004208ff4 0x8004209412 0x800421d076 0x800421a855 0x800421a4f7 0x80042071d9 0x800421b77b 0x800421bb50 0x800421b57c 0x4004a2 0x4001f4 0x400252 0x400cf3
Translation of call stack:
0x0000008004216a01: debug_panic (lib/kernel/debug.c:32)
0x0000008004207113: thread_current (threads/thread.c:298)
0x000000800420a7c1: lock_held_by_current_thread (threads/synch.c:255)
0x0000008004219d06: console_locked_by_current_thread (lib/kernel/console.c:111 (discriminator 2))
0x0000008004219ed3: putchar_have_lock (lib/kernel/console.c:173)
0x0000008004219eb7: vprintf_helper (lib/kernel/console.c:166)
0x0000008004214f00: format_string (lib/stdio.c:529 (discriminator 3))
0x0000008004214638: __vprintf (lib/stdio.c:284)
0x0000008004219d66: vprintf (lib/kernel/console.c:123)
0x0000008004213f04: printf (lib/stdio.c:80)
0x000000800421b757: exit (userprog/syscall.c:64)
0x000000800421b50a: syscall_entry (??:?)
0x0000008004208ff4: intr_handler (threads/interrupt.c:353)
0x0000008004209412: intr_entry (threads/intr-stubs.o:?)
0x000000800421d076: file_close (filesys/file.c:56)
0x000000800421a855: process_close_file (userprog/process.c:397)
0x000000800421a4f7: process_exit (userprog/process.c:274 (discriminator 3))
0x00000080042071d9: thread_exit (threads/thread.c:322)
0x000000800421b77b: exec (userprog/syscall.c:68)
0x000000800421b50a: syscall_entry (??:?)
0x0000008004208ff4: intr_handler (threads/interrupt.c:353)
0x0000008004209412: intr_entry (threads/intr-stubs.o:?)
0x000000800421d076: file_close (filesys/file.c:56)
0x000000800421a855: process_close_file (userprog/process.c:397)
0x000000800421a4f7: process_exit (userprog/process.c:274 (discriminator 3))
0x00000080042071d9: thread_exit (threads/thread.c:322)
0x000000800421b77b: exec (userprog/syscall.c:68)
0x000000800421b50a: syscall_entry (??:?)
0x0000008004208ff4: intr_handler (threads/interrupt.c:353)
0x0000008004209412: intr_entry (threads/intr-stubs.o:?)
0x000000800421d076: file_close (filesys/file.c:56)
0x000000800421a855: process_close_file (userprog/process.c:397)
0x000000800421a4f7: process_exit (userprog/process.c:274 (discriminator 3))
0x00000080042071d9: thread_exit (threads/thread.c:322)
0x000000800421b77b: exec (userprog/syscall.c:68)
0x000000800421b50a: syscall_entry (??:?)
0x0000008004208ff4: intr_handler (threads/interrupt.c:353)
0x0000008004209412: intr_entry (threads/intr-stubs.o:?)
0x000000800421d076: file_close (filesys/file.c:56)
0x000000800421a855: process_close_file (userprog/process.c:397)
0x000000800421a4f7: process_exit (userprog/process.c:274 (discriminator 3))
0x00000080042071d9: thread_exit (threads/thread.c:322)
0x000000800421b77b: exec (userprog/syscall.c:68)
0x000000800421bb50: syscall_handler (userprog/syscall.c:225)
0x000000800421b57c: no_sti (userprog/syscall-entry.o:?)
0x00000000004004a2: (unknown)
0x00000000004001f4: (unknown)
0x0000000000400252: (unknown)
0x0000000000400cf3: (unknown)
